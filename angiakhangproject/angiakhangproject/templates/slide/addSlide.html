{% extends 'base.html' %}

{% block title %}
    Thêm slide
{% endblock %}

{% block content %}
    <form method="post" action="{% url 'createSlide' %}" enctype="multipart/form-data"
          class="form-horizontal"> {% csrf_token %}
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title">Thêm mới slide</h3>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
            <div class="box-body">
                <div class="form-group">
                    <label for="txtNameSlide" class="col-sm-2 control-label">Tiêu đề</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="txtNameSlide" required="required"
                               name="txtNameSlide" placeholder="Điền tiêu đề"/>
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtImages" class="col-sm-2 control-label">Hình ảnh</label>
                    <div class="col-sm-10">
                        <input type="file" class="form-control" name="txtImages" id="txtImages" accept="image/*"
                               required="required" onchange="PreviewImage();">
                    </div>
                </div>

                <div class="form-group">
                    <label for="image_preview" class="col-sm-2 control-label"></label>
                    <div class="col-sm-10">
                        <img id="image_preview" name="image_preview" width="100px" height="100px"/>
                    </div>
                </div>

                <div class="form-group">
                    <label for="txtURL" class="col-sm-2 control-label">Tiêu đề</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="txtURL" name="txtURL"
                               placeholder="Liên kết tới bài viết"/>
                    </div>
                </div>

                <div class="form-group">
                    <label for="slPosition" class="col-sm-2 control-label">Vị trí </label>
                    <div class="col-sm-10">
                        <select class="form-control" id="slPosition" name="slPosition">
                            <option value="True"> Chính </option>
                            <option value="False">Phụ </option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <a href="{% url 'listSlide' %}" class="btn btn-default"> Trở về </a>
                <button type="submit" class="btn btn-info pull-right">Lưu</button>
            </div>
            <!-- /.box-footer -->
        </div>
    </form>

    <script type="text/javascript">
        function PreviewImage() {
            var oFReader = new FileReader();
            oFReader.readAsDataURL(document.getElementById("txtImages").files[0]);

            oFReader.onload = function (oFREvent) {
                document.getElementById("image_preview").src = oFREvent.target.result;
            };
        };

    </script>
{% endblock %}

